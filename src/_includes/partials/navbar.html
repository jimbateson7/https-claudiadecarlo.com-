<header class="w-full">
    <nav class="flex items-center justify-center lg:justify-between flex-wrap p-6 lg:px-0 container mx-auto" x-data="{ isOpen: false }" @keydown.escape="isOpen = false"  @click.away="isOpen = false" aria-label="Main">
        <div class="flex items-center">
            <a href="/">
                <img src="./static/img/logo.png" class="max-w-56" alt="Claudia de Carlo">
            </a>
        </div>

        <button @click="isOpen = !isOpen" type="button" class="ml-auto block lg:hidden px-2 text-primary-500 hover:text-primary-500 focus:outline-none focus:text-primary-500" :class="{ 'transition transform-180': isOpen }">
            <svg class="h-6 w-6 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true">
                <path x-show="isOpen" fill-rule="evenodd" clip-rule="evenodd"
                    d="M18.278 16.864a1 1 0 0 1-1.414 1.414l-4.829-4.828-4.828 4.828a1 1 0 0 1-1.414-1.414l4.828-4.829-4.828-4.828a1 1 0 0 1 1.414-1.414l4.829 4.828 4.828-4.828a1 1 0 1 1 1.414 1.414l-4.828 4.829 4.828 4.828z" />
                <path x-show="!isOpen" fill-rule="evenodd"
                    d="M4 5h16a1 1 0 0 1 0 2H4a1 1 0 1 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2z" />
            </svg>
            <span class="sr-only" x-text="isOpen ? 'Close navigation' : 'Open navigation'"></span>
        </button>


        <div class="w-full flex-grow lg:flex lg:items-center lg:w-auto text-center " :class="{ 'block shadow-3xl': isOpen, 'hidden': !isOpen }" x-show.transition="true">
            {% if headerNavigation.headerItems %}
                <ul class="pt-6 lg:pt-0 list-reset lg:flex justify-end flex-1 gap-8 items-center">
                    {% for item in headerNavigation.headerItems %}
                        {% set currentUrl = page.url | stripTrailingSlash %}
                        {% set navUrl = item.url | stripTrailingSlash %}                  

                        <li>
                            <a
                                @click="isOpen = false"
                                href="{{ item.url }}"
                                class="no-underline font-display text-lg hover:underline underline-offset-2 decoration-2 hover:text-brand-red {% if currentUrl == navUrl %}text-brand-red underline underline-offset-2 decoration-2{% else %}text-brand-purple{% endif %}"
                                aria-current="{% if currentUrl == navUrl %}page{% endif %}"
                            >{{ item.text }}</a>
                        </li>
                    {% endfor %}
                </ul>
            {% endif %}
        </div>
    </nav>
</header>
